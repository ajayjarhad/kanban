(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{172:function(n,e,t){},173:function(n,e,t){},288:function(n,e,t){"use strict";t.r(e);var a,i,r,o,c,s,d,l,b,p,j,h,u,g,f,x,O,m,v,w,k,C,I,S,y,D=t(0),N=t.n(D),$=t(16),P=t.n($),B=(t(172),t(173),t(61)),E=t(26),T=t(29),z=t(157),A=t(11),q=t(17),L=t(46),F=t(324),H=t(327),J=t(328),R=t(329),U=t(330),G=t(331),K=(t(177),t(4)),M=q.a.div(a||(a=Object(A.a)(["\n  border-radius: 3px;\n  border-bottom: 1px solid #ccc;\n  background-color: #fff;\n  position: relative;\n  padding: 10px;\n  cursor: pointer;\n  max-width: 35rem;\n  width: 27.5rem;\n  margin-bottom: 7px;\n  min-width: 230px;\n"]))),W=q.a.div(i||(i=Object(A.a)([""]))),Y=function(n){var e=n.card,t=N.a.useState(!1),a=Object(E.a)(t,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(K.jsxs)(L.Draggable,{children:[Object(K.jsx)(M,{className:"card",children:Object(K.jsx)(W,{onClick:function(){r(!0)},children:e.title})}),Object(K.jsxs)(F.a,{open:i,onClose:o,"aria-labelledby":"form-dialog-title",children:[Object(K.jsx)(H.a,{id:"form-dialog-title",children:e.title}),Object(K.jsxs)(J.a,{children:[Object(K.jsx)(R.a,{color:"black",children:"Card Description"}),e.description?e.description:"You haven't entered card description"]}),Object(K.jsx)(U.a,{children:Object(K.jsx)(G.a,{onClick:o,color:"amber",children:"Close"})})]})]},e.id)},Q=t(155),V=t(341),X=t(345),Z=t(39),_=function(n,e,t){var a;if(e===t.length-1)a=t[t.length-1].pos+16384;else if(0===e)a=t[0].pos/2;else if(e<n){a=(t[e-1].pos+t[e].pos)/2}else if(e>n){a=(t[e+1].pos+t[e].pos)/2}return a},nn=t(53),en=t.n(nn),tn=q.a.div(r||(r=Object(A.a)(["\n  display: inline-block;\n  height: 100%;\n  vertical-align: top;\n  white-space: normal;\n  opacity: ",";\n"])),(function(n){return n.isDragging?0:1})),an=q.a.section(o||(o=Object(A.a)(["\n  width: 29.5rem;\n  background-color: #e3e3e3;\n  border-radius: 3px;\n  margin: 5px 5px;\n  padding: 10px;\n  margin: 15px;\n  position: relative;\n  display: inline-flex;\n  height: auto;\n  max-height: 90%;\n  flex-direction: column;\n"]))),rn=q.a.header(c||(c=Object(A.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),on=q.a.span(s||(s=Object(A.a)(["\n  font-weight: bold;\n  font-size: 20px;\n  line-height: 18px;\n  cursor: grab;\n  width: 100%;\n  text-align: center;\n  padding-top: 4px;\n"]))),cn=q.a.div(d||(d=Object(A.a)(["\n  flex: 1;\n  overflow-y: auto;\n  align-self: center;\n  max-height: 90vh;\n  margin-top: 10px;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),sn=q.a.div(l||(l=Object(A.a)(["\n  min-height: 24px;\n  max-height: 24px;\n  cursor: pointer;\n\n  :hover {\n    background-color: rgba(9, 30, 66, 0.08);\n    color: #172b4d;\n  }\n"]))),dn=q.a.span(b||(b=Object(A.a)(["\n  color: #5e6c84;\n"]))),ln=q.a.div(p||(p=Object(A.a)([""]))),bn=q.a.div(j||(j=Object(A.a)(["\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n  cursor: pointer;\n  display: block;\n  margin-bottom: 8px;\n  width: 27.5rem;\n  min-height: 20px;\n  position: relative;\n  text-decoration: none;\n  z-index: 0;\n"]))),pn=q.a.div(h||(h=Object(A.a)(["\n  overflow: hidden;\n  padding: 6px 8px 2px;\n  position: relative;\n  z-index: 10;\n"]))),jn=q.a.textarea(u||(u=Object(A.a)(["\n  overflow: hidden;\n  overflow-wrap: break-word;\n  resize: none;\n  height: 54px;\n  background: none;\n  border: none;\n  box-shadow: none;\n  margin-bottom: 4px;\n  max-height: 162px;\n  min-height: 54px;\n  padding: 0;\n  width: 100%;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  outline: none;\n  border-bottom: 2px solid #ffc107;\n"]))),hn=q.a.textarea(g||(g=Object(A.a)(["\n  overflow: hidden;\n  overflow-wrap: break-word;\n  resize: none;\n  height: 54px;\n  background: none;\n  border: none;\n  box-shadow: none;\n  margin-bottom: 4px;\n  max-height: 162px;\n  min-height: 54px;\n  padding: 0;\n  width: 100%;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 400;\n  outline: none;\n"]))),un=q.a.div(f||(f=Object(A.a)(["\n  height: 32px;\n"]))),gn=q.a.input(x||(x=Object(A.a)(["\n  background-color: #ffc107;\n  box-shadow: none;\n  border: none;\n  color: #fff;\n  height: 100%;\n  cursor: pointer;\n"]))),fn=q.a.a(O||(O=Object(A.a)(["\n  height: 32px;\n  line-height: 32px;\n  width: 32px;\n"]))),xn=Object(Z.a)(m||(m=Object(A.a)(["\n  mutation InsertCard(\n    $sectionId: ID!\n    $title: String!\n    $label: String!\n    $description: String!\n    $pos: Int!\n  ) {\n    insertCard(\n      request: {\n        sectionId: $sectionId\n        title: $title\n        label: $label\n        pos: $pos\n        description: $description\n      }\n    ) {\n      title\n      label\n      id\n      description\n    }\n  }\n"]))),On=Object(Z.a)(v||(v=Object(A.a)(["\n  subscription {\n    cardAdded {\n      id\n      title\n      description\n      sectionId\n      pos\n    }\n  }\n"]))),mn=Object(Z.a)(w||(w=Object(A.a)(["\n  mutation UpdateCard($cardId: String!, $pos: Int!, $sectionId: String!) {\n    updateCardPos(\n      request: { cardId: $cardId, pos: $pos, sectionId: $sectionId }\n    ) {\n      id\n      title\n      label\n      pos\n      sectionId\n    }\n  }\n"]))),vn=Object(Z.a)(k||(k=Object(A.a)(["\n  subscription {\n    onCardPosChange {\n      id\n      title\n      label\n      description\n      pos\n      sectionId\n    }\n  }\n"]))),wn=function(n){var e=n.item,t=n.boards,a=Object(D.useState)([]),i=Object(E.a)(a,2),r=i[0],o=i[1],c=Object(D.useState)(!1),s=Object(E.a)(c,2),d=s[0],l=s[1],b=Object(D.useState)(""),p=Object(E.a)(b,2),j=p[0],h=p[1],u=Object(D.useState)(""),g=Object(E.a)(u,2),f=g[0],x=g[1],O=Object(V.a)(xn),m=Object(E.a)(O,2),v=m[0],w=(m[1].data,Object(V.a)(mn)),k=Object(E.a)(w,1)[0],C=Object(X.a)(On).data,I=(C=void 0===C?{}:C).cardAdded,S=Object(X.a)(vn).data,y=(S=void 0===S?{}:S).onCardPosChange;Object(D.useEffect)((function(){e&&e.cards&&o(e.cards)}),[e]),Object(D.useEffect)((function(){I&&e.id===I.sectionId&&(o(e.cards.concat(I)),l(!1))}),[I]),Object(D.useEffect)((function(){y&&(e.id,y.sectionId)}),[y]);var N=function(n){n.preventDefault(),j&&(console.log("==>",r[r.length-1]),v({variables:{sectionId:e.id,title:j,label:j,description:f,pos:r&&r.length>0?r[r.length-1].pos+16348:16348}}),h(""),x(""))};return Object(K.jsx)(L.Draggable,{children:Object(K.jsx)(tn,{className:"card-container",children:Object(K.jsxs)(an,{children:[Object(K.jsx)(rn,{className:"column-drag-handle",children:Object(K.jsx)(on,{children:e.title})}),Object(K.jsxs)(cn,{children:[Object(K.jsx)(L.Container,{orientation:"vertical",groupName:"item",onDragStart:function(n){return console.log("Drag Started")},onDragEnd:function(n){return console.log("drag end",n)},onDrop:function(n){!function(n,e,a,i){var c;if(null!==e&&null!==a){var s=t.filter((function(e){return e.id===n}))[0];c=_(a,e,s.cards);var d=r.map((function(n){return n.id===i.id?Object(T.a)(Object(T.a)({},n),{},{pos:c}):n}));d=en()(d,(function(n){return n.pos})),console.log("newCards",d),o(d),k({variables:{cardId:i.id,pos:parseInt(c),sectionId:n}})}else if(null!==e){var l=t.filter((function(e){return e.id===n}))[0];if(t.indexOf(l),0===e)c=16384;else if(e===l.cards.length)c=l.cards[l.cards.length-1].pos+16384;else{var b=l.cards[e].pos,p=l.cards[e-1].pos;c=(b+p)/2}var j=r.map((function(n){return n.id===i.id?Object(T.a)(Object(T.a)({},n),{},{pos:c}):n}));j=en()(j,(function(n){return n.pos})),o(j),k({variables:{cardId:i.id,pos:parseInt(c),sectionId:n}})}}(e.id,n.addedIndex,n.removedIndex,n.payload)},dragClass:"card-ghost",dropClass:"card-ghost-drop",onDragEnter:function(){},getChildPayload:function(n){return r[n]},onDragLeave:function(){},onDropReady:function(n){return console.log("Drop ready: ",n)},dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"drop-preview"},dropPlaceholderAnimationDuration:200,children:r.map((function(n){return Object(K.jsx)(Y,{card:n,onAddCardSubmit:N},n.id)}))}),d?Object(K.jsxs)(ln,{children:[Object(K.jsx)(bn,{children:Object(K.jsxs)(pn,{children:[Object(K.jsx)(jn,{placeholder:"Enter a title for the card",onChange:function(n){h(n.target.value)}}),Object(K.jsx)(hn,{placeholder:"Enter description (optional)",onChange:function(n){x(n.target.value)}})]})}),Object(K.jsxs)(un,{children:[Object(K.jsx)(gn,{type:"button",value:"Add Card",onClick:N}),Object(K.jsx)(fn,{children:Object(K.jsx)(Q.a,{})})]})]}):Object(K.jsx)(sn,{onClick:function(){l(!0)},children:Object(K.jsx)(dn,{children:"Add another card"})})]})]})})},e.id)},kn=t(342),Cn=q.a.div(C||(C=Object(A.a)(["\n  background: linear-gradient(-45deg, #000000, #434343);\n  background-size: 400% 400%;\n  animation: gradient 15s ease infinite;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  color: #393939;\n  overflow-y: hidden;\n  overflow-x: auto;\n  position: absolute;\n  padding: 5px;\n  margin: 0;\n  align-items: flex-start;\n  @keyframes gradient {\n    0% {\n      background-position: 0% 50%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 0% 50%;\n    }\n  }\n"]))),In=Object(Z.a)(I||(I=Object(A.a)(["\n  query {\n    fetchSections {\n      id\n      title\n      label\n      pos\n      description\n      cards {\n        id\n        title\n        label\n        description\n        pos\n      }\n    }\n  }\n"]))),Sn=Object(Z.a)(S||(S=Object(A.a)(["\n  mutation UpdateSection($sectionId: String!, $pos: Int!) {\n    updateSectionPos(request: { sectionId: $sectionId, pos: $pos }) {\n      id\n      pos\n    }\n  }\n"]))),yn=Object(Z.a)(y||(y=Object(A.a)(["\n  subscription {\n    onSectionPosChange {\n      id\n      pos\n    }\n  }\n"]))),Dn=function(){var n=Object(D.useState)([]),e=Object(E.a)(n,2),t=e[0],a=e[1],i=Object(kn.a)(In),r=(i.loading,i.error,i.data),o=Object(V.a)(Sn),c=Object(E.a)(o,1)[0];Object(D.useEffect)((function(){r&&a(r.fetchSections)}),[r]);var s=Object(X.a)(yn).data,d=(s=void 0===s?{}:s).onSectionPosChange;Object(D.useEffect)((function(){if(d){var n=t;n=n.map((function(n){return n.id===d.id?Object(T.a)(Object(T.a)({},n),{},{pos:d.pos}):n}));var e=en()(n,[function(n){return n.pos}]);a(e)}}),[d]);return Object(K.jsx)(Cn,{children:Object(K.jsx)(L.Container,{orientation:"horizontal",onDrop:function(n){var e=n.removedIndex,i=n.addedIndex,o=n.payload;if(r){var s=_(e,i,r.fetchSections),d=t.map((function(n){return n.id===o.id?Object(T.a)(Object(T.a)({},n),{},{pos:s}):n})),l=en()(d,[function(n){return n.pos}]);c({variables:{sectionId:o.id,pos:parseInt(s)}}),a(Object(z.a)(l))}},onDragStart:function(){},getChildPayload:function(n){return t[n]},dragHandleSelector:".column-drag-handle",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"},children:t.length>0&&t.map((function(n,e){return Object(K.jsx)(wn,{item:n,boards:t},e)}))})})},Nn=t(7),$n=t(332),Pn=t(48),Bn=t(343),En=t(333),Tn=t(334),zn=t(335),An=t(338),qn=t(162),Ln=t(337),Fn=t(336),Hn=t(147),Jn=t.n(Hn),Rn=t(148),Un=t.n(Rn),Gn=t(149),Kn=t.n(Gn),Mn=t(339),Wn=t(344),Yn=t(146),Qn=t.n(Yn),Vn=240,Xn=Object($n.a)((function(n){return{root:{display:"flex",padding:0,margin:0},appBar:{backgroundColor:"#ffc107",transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Vn,"px)"),marginLeft:Vn,transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})},menuButton:{marginRight:n.spacing(2)},hide:{display:"none"},drawer:{width:Vn,flexShrink:0},drawerPaper:{width:Vn,backgroundColor:"black"},drawerHeader:Object(T.a)(Object(T.a)({display:"flex",alignItems:"center",padding:n.spacing(0,1)},n.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0},amber:{backgroundColor:Qn.a[500],margin:15},theText:{color:"white"},amberText:{color:"#ffc107"},theBackground:{backgroundColor:"#ffc107"}}}));function Zn(){var n=Xn(),e=Object(Pn.a)(),t=N.a.useState(!1),a=Object(E.a)(t,2),i=a[0],r=a[1];return Object(K.jsxs)("div",{className:n.root,children:[Object(K.jsx)(En.a,{}),Object(K.jsx)(Tn.a,{position:"fixed",className:Object(Nn.a)(n.appBar,Object(B.a)({},n.appBarShift,i)),children:Object(K.jsxs)(zn.a,{children:[Object(K.jsx)(Fn.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(Nn.a)(n.menuButton,i&&n.hide),children:Object(K.jsx)(Jn.a,{})}),Object(K.jsx)(qn.a,{variant:"h6",noWrap:!0,children:"The Kanban Board"})]})}),Object(K.jsxs)(Bn.a,{className:n.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:n.drawerPaper},children:[Object(K.jsx)("div",{className:n.drawerHeader,children:Object(K.jsx)(Fn.a,{onClick:function(){r(!1)},children:"ltr"===e.direction?Object(K.jsx)(Un.a,{className:n.amberText}):Object(K.jsx)(Kn.a,{className:n.theText})})}),Object(K.jsx)(Ln.a,{className:n.theBackground}),Object(K.jsxs)(An.a,{children:[Object(K.jsxs)(Mn.a,{children:[Object(K.jsx)(Wn.a,{className:n.amber,children:"A J"})," ",Object(K.jsx)("span",{className:n.theText,children:" Ajay Jarhad"})]}),Object(K.jsx)(Ln.a,{className:n.theBackground})]})]}),Object(K.jsxs)("main",{className:Object(Nn.a)(n.content,Object(B.a)({},n.contentShift,i)),children:[Object(K.jsx)("div",{className:n.drawerHeader}),Object(K.jsx)(Dn,{})]})]})}var _n=t(340),ne=t(158),ee=t(25),te=t(3),ae=t(156),ie=t(152),re=t(150),oe=new ne.a({uri:"https://kanban-backend-ajay.herokuapp.com/graphql"}),ce=new re.a({uri:"wss://kanban-backend-ajay.herokuapp.com/graphql",options:{reconnect:!0}}),se=Object(ee.d)((function(n){var e=n.query,t=Object(te.l)(e),a=t.kind,i=t.operation;return"OperationDefinition"===a&&"subscription"===i}),ce,oe),de=new ie.a({link:se,cache:new ae.a});var le=function(){return Object(K.jsx)(_n.a,{client:de,children:Object(K.jsx)("div",{className:"App",style:{height:"100vh"},children:Object(K.jsx)(Zn,{})})})},be=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,346)).then((function(e){var t=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;t(n),a(n),i(n),r(n),o(n)}))};P.a.render(Object(K.jsx)(N.a.StrictMode,{children:Object(K.jsx)(le,{})}),document.getElementById("root")),be()}},[[288,1,2]]]);
//# sourceMappingURL=main.8e83eea1.chunk.js.map